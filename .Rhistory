-5:20
-(5:20)
select(X:size)
select(cran, X:size)
select(cran, -(X:size))
filter(cran, package == "swirl")
filter(cran, r_version == "3.1.1", country == "US")
?Comparison
filter(cran, r_version <= "3.0.2", country == "IN")
filter(cran, country == "US" | country == "IN")
filter(cran, size > 100500, r_os == "linux-gnu")
is.na(c(3, 5, NA, 10))
!is.na(c(3, 5, NA, 10))
filter(cran, !is.na(r_version))
cran2 <- select(size, ip_id)
cran2 <- select(cran2, size, ip_id)
select(cran, size:ip_id)
cran2 <- select(cran, size:ip_id)
arrange(cran2, ip_id)
arrange(cran2, desc(ip_id))
arrange(cran2, package, ip_id)
cran2(cran2, country, desc(r_version), ip_id)
arrange(cran2, country, desc(r_version), ip_id)
cran3 <- select(ip_id, package, size)
cran3 <- select(cran2, ip_id, package, size)
cran3 <- select(cran, ip_id, package, size)
cran3
mutate(cran3, size_mb = size / 2^20)
adsf
mutate(cran3, size_mb = size / 2^20)
mutate(cran3, size_mb = size / 2^20, size_gb = size_mb / 2^10)
mutate(cran3, size_mb = size / 2^20, size_gb = size_mb / 2^10)
mutate(cran3, correct_size = size + 1000)
summarize(cran, avg_bytes = mean(size))
View(cran)
cran$date
library(swirl)
swirl()
install.packages("httr")
myapp <- oauth_app("github",
key = "079ebf7e772eeb326904",
secret = "f9d85938fd8e815eca68988fdd067a8f5f42c99b")
library(httr)
myapp <- oauth_app("github",
key = "079ebf7e772eeb326904",
secret = "f9d85938fd8e815eca68988fdd067a8f5f42c99b")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
key = "079ebf7e772eeb326904",
secret = "f9d85938fd8e815eca68988fdd067a8f5f42c99b")
oauth_endpoints("github")
library(httr)
myapp <- oauth_app("github",
key = "079ebf7e772eeb326904",
secret = "f9d85938fd8e815eca68988fdd067a8f5f42c99b")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
gtoken <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", gtoken)
stop_for_status(req)
content(req)
myapp <- oauth_app("github",
key = "079ebf7e772eeb326904",
secret = "f9d85938fd8e815eca68988fdd067a8f5f42c99b")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
content(req)
oauth_endpoints("github")
myapp <- oauth_app("github",
key = "079ebf7e772eeb326904",
secret = "f9d85938fd8e815eca68988fdd067a8f5f42c99b")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
gtoken <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", gtoken)
stop_for_status(req)
content(req)
req <- with_config(gtoken, GET("https://api.github.com/users/jtleek/repos"))
stop_for_status(req)
content(req)
library(httr)
oauth_endpoints("github")
myapp <- oauth_app("github",
key = "079ebf7e772eeb326904",
secret = "f9d85938fd8e815eca68988fdd067a8f5f42c99b")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
gtoken <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", gtoken)
stop_for_status(req)
content(req)
library(httr)
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
request1 <- GET("https://api.github.com/users/jtleek/repos", config(token = github_token))
myjson <- content(request1)
myjson2 <- jsonline::fromJSON(toJSON(myjson))
install.packages("jsonlite")
myjson2 <- jsonline::fromJSON(toJSON(myjson))
library(jsonlite)
myjson2 <- jsonline::fromJSON(toJSON(myjson))
library(jsonline)
library(jsonlite)
myjson2 <- jsonlite::fromJSON(toJSON(myjson))
view(myjson2)
install.packages("httpuv")
library(httpuv)
view(myjson2)
library(httr)
library(jsonlite)
library(httpuv)
view(myjson2)
content(myjson2)
stop_for_status(req)
oauth_endpoints("github")
myapp <- oauth_app("github",
key = "079ebf7e772eeb326904",
secret = "f9d85938fd8e815eca68988fdd067a8f5f42c99b")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
gtoken <- config(token = github_token)
req <- GET("https://api.github.com/rate_limit", gtoken)
stop_for_status(req)
content(req)
oauth_endpoints("github")
myapp <- oauth_app("github",
key = "079ebf7e772eeb326904",
secret = "f9d85938fd8e815eca68988fdd067a8f5f42c99b")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
request1 <- GET("https://api.github.com/users/jtleek/repos", config(token = github_token))
myjson <- content(request1)
myjson2 <- jsonlite::fromJSON(toJSON(myjson))
content(myjson2)
view(myjson2)
library(httr)
library(httr)
oauth_endpoints("github")
myapp <- oauth_app("github",
key = "079ebf7e772eeb326904",
secret = "f9d85938fd8e815eca68988fdd067a8f5f42c99b")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
gtoken <- config(token = github_token)
req <- GET("https://api.github.com/rate_limit", gtoken)
stop_for_status(req)
content(req)
req <- with_config(gtoken, GET("https://api.github.com/rate_limit"))
stop_for_status(req)
content(req)
con = url("http://biostat.jhsph.edu/~jleek/contact.html")
htmlCode = readLines(con)
nchar(htmlCode[10])
nchar(htmlCode[20])
nchar(htmlCode[30])
nchar(htmlCode[100])
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", "quiz1.for", method = "curl")
q5 <- read.fwf("./quiz1.for",skip = 4, widths = c(15,4,4,9,4,9,4,9,4))
sum(q5[4])
install.packages(c("digest", "Rcpp", "rJava"))
library(swirl)
swirl()
students
?gather
gather(students, sex, count, -grade)
students2
res <- gather(students2, sex_class, count, -grade)
res
?separate
separate(data = res, col = sex_class, into = c("sex", "class")
)
submit()
students3
submit()
?spread
submit()
extract_numeric("class5")
submit()
students4
submit()
submit()
View(student_info)
submit()
passed
failed
mutate(passed, status = "passed")
passed <- passed %>% mutate(status = "passed")
failed <- failed %>% mutate(status = "failed")
bind_rows(passed, failed)
sat
?separate
submit()
submit()
submit()
submit()
library(tidyr)
students
?gather
gather(studets, sex, count -grade)
gather(students, sex, count -grade)
gather(students, sex, count, -grade)
students2
gather(students2, sex_class, count)
gather(studetnts2, sex_class, count, -grade)
gather(students2, sex_class, count, -grade)
res
res <- gather(students2, sex_class, count, -grade)
res
?separate
separate(data = res, col = sex_class, into = c("sex", "class"))
submit()
submit()
submit()
students3
submit()
?spread
submit()
extract_numeric("class5")
submit()
students4
submit()
submit()
submit()
passed
failed
passed <- passed %>% mutate(status = "passed")
failed <- failed %>% mutate(status = "failed")
bind_rows(passed, failed)
sat
submit()
submit()
library(swirl)
swirl()
View(students4)
View(students2)
View(students3)
View(students4)
View(sat)
View(passed)
View(failed)
setwd("/Volumes/HDPABLO/INEGI/Mapa Digital 5GEOELECTORAL/ECEG2010")
df <- read.table("./resultados_electorales2009_E25_8.dbf", header = T, sep = ",")
df <- read.table("./resultados_electorales/resultados_electorales2009_E25_8.dbf", header = T, sep = ",")
View(df)
df <- read.dbf("./resultados_electorales/resultados_electorales2009_E25_8.dbf")
install.packages("foreign")
library(foreign)
df <- read.dbf("./resultados_electorales/resultados_electorales2009_E25_8.dbf")
df <- read.dbf("./resultados_electorales/resultados_electorales2009_E25_8.dbf", as.is = FALSE)
View(df)
df <- read.dbf("./poblacion/secciones_E25.dbf", as.is = FALSE)
View(df)
View(df)
poblacion <- read.dbf("./poblacion/secciones_E25.dbf", as.is = FALSE)
vivienda <- read.dbf("./viviendas/secciones_E25v.dbf", as.is = FALSE)
rm(df)
View(vivienda)
resultados <- read.dbf("./resultados_electorales/resultados_electorales2009_E25_8.dbf", as.is = FALSE)
View(vivienda)
install.packages("shapefiles")
detach("package:foreign", unload=TRUE)
library(shapefiles)
read.shx(shx.name = "./poblacion/secciones_E25.dbx")
read.shx(shx.name = "./poblacion/secciones_E25.shx")
shx <- read.shx(shx.name = "./poblacion/secciones_E25.shx")
head(shx)
shx[1:3]
shx[1]
shx[1,1]
shx[,1]
shx[1,]
shx[1]
shx[shx]
shx[index][1]
shx[index]
shx["index"]
shx["index"][1]
head(shx["index"])
shx["index"][1, ]
shx["index"][1:5 , ]
shx["index"][,1]
shx["index"
shx["index"]
shx["index"]
str(shx["index"])
resultados <- read.dbf("./ele2010/secciones/secciones.dbf", as.is = FALSE)
resultados <- read.dbf("./ele2010/secciones/secciones.dbf")
res <- resultados["dbf"]
View(poblacion)
res <- data.frame(resultados["dbf"])
View(res)
library(dplyr)
results <- tbl_df(res)
rm(results)
res <- tbl_df(data.frame(resultados["dbf"]))
View(res)
filter(res, dbf.ENTIDAD == 25)
View(res)
View(res)
filter(res, dbf.ENTIDAD == 25)
resultados <- read.dbf("./descriptores/descrip_consolidados_final.dbf")
descrip <- read.dbf("./descriptores/descrip_consolidados_final.dbf")
res <- tbl_df(data.frame(resultados["dbf"]))
resultados <- read.dbf("./ele2010/secciones/secciones.dbf")
res <- tbl_df(data.frame(resultados["dbf"]))
View(descrip)
descrip <- read.dbf("./descriptores/DESCRIPTORES_CENSO2010.dbf")
View(descrip)
resultados <- read.dbf("./ele2010/secciones/secciones.dbf", as.is = FALSE) ## Información de Diego Valle
resultados <- read.dbf("./ele2010/secciones/secciones.dbf") ## Información de Diego Valle
length(resultados)
index(resultados)
resultados["index"]
resultados["dbf"]
length(resultados["dbf"])
resultados <- read.dbf("./resultados_electorales/resultados_electorales2009_E25.dbf", as.is = FALSE)
resultados <- read.dbf("./resultados_electorales/resultados_electorales2009_E25.dbf")
elecciones <- read.dbf("./resultados_electorales/resultados_electorales2009_E25_8.dbf", as.is = FALSE)
elecciones <- read.dbf("./resultados_electorales/resultados_electorales2009_E25_8.dbf")
detach("package:shapefiles", unload=TRUE)
library(foreign)
elecciones <- read.dbf("./resultados_electorales/resultados_electorales2009_E25_8.dbf")
View(elecciones)
resultados <- read.dbf("./ele2010/secciones/secciones.dbf") ## Información de Diego Valle
View(resultados)
View(elecciones)
setwd("~/projects/r/alpha")
setwd("~/projects/r/alpha")
library(foreign)
library(dplyr)
pob_sec <- read.dbf("./poblacion/secciones_E25.dbf")
pob_sec <- read.dbf("./poblacion/secciones_E25.dbf", as.is = F)
pob_sec <- read.dbf("./poblacion/secciones_E25.dbf", as.is = T)
library(foreign)
library(dplyr)
pob_sec <- read.dbf("./poblacion/secciones_E25.dbf", as.is = T)
pob_sec <- read.dbf("./data/poblacion/secciones_E25.dbf", as.is = T)
View(pob_sec)
library(xlsx)
ele_sec <- read.xlsx("./data/elecciones2015/diputados_plain.xlsx", sheetName = "data")
View(ele_sec)
pob_sec_f <- read.dbf("./data/poblacion/secciones_E25.dbf", as.is = T)
eco_sec_f <- read.dbf("./data/caracteristicasEconomicas/secciones_E25ce.dbf", as.is = T)
edu_sec_f <- read.dbf("./data/caracteristicasEducativas/secciones_E25.dbf", as.is = T)
dis_sec_f <- read.dbf("./data/discapacidad/secciones_E25.dbf", as.is = T)
mig_sec_f <- read.dbf("./data/migracion/secciones_E25.dbf", as.is = T)
sal_sec_f <- read.dbf("./data/serviciosDeSalud/secciones_E25.dbf", as.is = T)
viv_sec_f <- read.dbf("./data/viviendas/secciones_E25v.dbf", as.is = T)
ele_sec_f <- read.xlsx("./data/elecciones2015/diputados_plain.xlsx", sheetName = "data")
pob_sec <- tbl_df(pob_sec_f)
eco_sec <- tbl_df(eco_sec_f)
edu_sec <- tbl_df(edu_sec_f)
dis_sec <- tbl_df(dis_sec_f)
mig_sec <- tbl_df(mig_sec_f)
sal_sec <- tbl_df(sal_sec_f)
viv_sec <- tbl_df(viv_sec_f)
ele_sec <- tbl_df(ele_sec_f)
rm(pob_sec_f, eco_sec_f, edu_sec_f, dis_sec_f, mig_sec_f, sal_sec_f, viv_sec_f, ele_sec_f)
?left_join
step1 <- left_join(pob_sec, eco_sec)
View(step1)
step1 <- left_join(step1, edu_sec)
step1 <- left_join(step1, dis_sec)
step1 <- left_join(step1, mig_sec)
step1 <- left_join(step1, sal_sec)
step1 <- left_join(step1, viv_sec)
step1 <- left_join(step1, ele_sec)
View(step1)
str(step1)
write.dbf(step1, "./output.dbf")
write.dbf(as.data.frame(step1), "./output.dbf")
colnames(step1)
names <- colnames(step1)
descriptores <- read.dbf("./data/descriptores/descrip_consolidados_final.dbf", as.is = T)
descriptores <- read.dbf("./descriptores/descrip_consolidados_final.dbf", as.is = T)
descriptores
descriptores <- read.dbf("./descriptores/DESCRIPTORES_CENSO2010.dbf", as.is = T)
descriptores
names <- colnames(step1)
names
descriptores[descriptores[1] == "PRES2005" , ]
View(descriptores)
descriptores <- read.dbf("./descriptores/DESCRIPTORES_CENSO2010.dbf", as.is = T, encoding = "Latin-1")
descriptores <- read.dbf("./descriptores/DESCRIPTORES_CENSO2010.dbf", as.is = T)
describe(step1["NULOS"])
summary(step1["NULOS"])
df_grupo <- group_by(step1, DISTRITO)
summarize(df_grupo, sum(TOTAL_VOTOS), sum(PRI), sum(PAN))
summarize(df_grupo, mean(TOTAL_VOTOS), mean(PRI), mean(PAN))
summarize(df_grupo, TOTAL_VOTOS)
summarize(df_grupo, n())
View(df_grupo)
summarize(df_grupo, n(), sum(POBTOT))
summarize(df_grupo, n(), sum(POBTOT), sum(PRI))
View(step1)
?read.xlsx
ele_sec_f <- read.xlsx("./data/elecciones2015/diputados_plain.xlsx", sheetName = "data", colClasses = "integer")
View(ele_sec)
sum(ele_sec$PRI)
pob_sec_f <- read.dbf("./data/poblacion/secciones_E25.dbf", as.is = T)
eco_sec_f <- read.dbf("./data/caracteristicasEconomicas/secciones_E25ce.dbf", as.is = T)
edu_sec_f <- read.dbf("./data/caracteristicasEducativas/secciones_E25.dbf", as.is = T)
dis_sec_f <- read.dbf("./data/discapacidad/secciones_E25.dbf", as.is = T)
mig_sec_f <- read.dbf("./data/migracion/secciones_E25.dbf", as.is = T)
sal_sec_f <- read.dbf("./data/serviciosDeSalud/secciones_E25.dbf", as.is = T)
viv_sec_f <- read.dbf("./data/viviendas/secciones_E25v.dbf", as.is = T)
ele_sec_f <- read.xlsx("./data/elecciones2015/diputados_plain.xlsx", sheetName = "data", colClasses = "integer")
install.packages("maptools")
write.dbf(as.data.frame(step1), "./output.dbf") ## Archivo con todos los campos (para la base de datos)
pob_sec <- tbl_df(pob_sec_f)
eco_sec <- tbl_df(eco_sec_f)
edu_sec <- tbl_df(edu_sec_f)
dis_sec <- tbl_df(dis_sec_f)
mig_sec <- tbl_df(mig_sec_f)
sal_sec <- tbl_df(sal_sec_f)
viv_sec <- tbl_df(viv_sec_f)
ele_sec <- tbl_df(ele_sec_f)
rm(pob_sec_f, eco_sec_f, edu_sec_f, dis_sec_f, mig_sec_f, sal_sec_f, viv_sec_f, ele_sec_f)
group_by(ele_sec, DISTRITO)
group_by(ele_sec, DISTRITO)
group_by(ele_sec, "DISTRITO")
grouped <- group_by(ele_sec, "DISTRITO")
grouped <- group_by(ele_sec, ID_DISTRITO)
summarise(grouped, ID_DISTRITO)
summarise(grouped, sum(PRI))
joined <- left_join(pob_sec, eco_sec)
joined <- left_join(joined, edu_sec)
joined <- left_join(joined, dis_sec)
joined <- left_join(joined, mig_sec)
joined <- left_join(joined, sal_sec)
joined <- left_join(joined, viv_sec)
joined <- left_join(joined, ele_sec)
?left_join
rm(joined)
joined <- left_join(pob_sec, eco_sec)
joined <- left_join(joined, edu_sec)
joined <- left_join(joined, dis_sec)
joined <- left_join(joined, mig_sec)
joined <- left_join(joined, sal_sec)
joined <- left_join(joined, viv_sec)
joined <- left_join(joined, ele_sec, by = c("DISTRITO", "ID_DISTRITO"))
joined <- left_join(joined, ele_sec)
grouped <- group_by(joined, ID_DISTRITO)
summarise(grouped, sum(PRI))
grouped <- group_by(joined, DISTRITO)
summarise(grouped, sum(PRI))
grouped <- group_by(joined, ID_DISTRITO)
summarise(grouped, sum(POPTOT) , sum(PRI))
pob_sec_f <- read.dbf("./data/poblacion/secciones_E25.dbf", as.is = T)
eco_sec_f <- read.dbf("./data/caracteristicasEconomicas/secciones_E25ce.dbf", as.is = T)
edu_sec_f <- read.dbf("./data/caracteristicasEducativas/secciones_E25.dbf", as.is = T)
dis_sec_f <- read.dbf("./data/discapacidad/secciones_E25.dbf", as.is = T)
mig_sec_f <- read.dbf("./data/migracion/secciones_E25.dbf", as.is = T)
sal_sec_f <- read.dbf("./data/serviciosDeSalud/secciones_E25.dbf", as.is = T)
viv_sec_f <- read.dbf("./data/viviendas/secciones_E25v.dbf", as.is = T)
ele_sec_f <- read.xlsx("./data/elecciones2015/diputados_plain.xlsx", sheetName = "data", colClasses = "integer")
pob_sec <- tbl_df(pob_sec_f)
eco_sec <- tbl_df(eco_sec_f)
edu_sec <- tbl_df(edu_sec_f)
dis_sec <- tbl_df(dis_sec_f)
mig_sec <- tbl_df(mig_sec_f)
sal_sec <- tbl_df(sal_sec_f)
viv_sec <- tbl_df(viv_sec_f)
ele_sec <- tbl_df(ele_sec_f)
rm(pob_sec_f, eco_sec_f, edu_sec_f, dis_sec_f, mig_sec_f, sal_sec_f, viv_sec_f, ele_sec_f)
joined <- left_join(pob_sec, eco_sec)
joined <- left_join(joined, ele_sec)
View(joined)
grouped <- group_by(joined, ID_DISTRITO)
summarise(grouped, sum(POPTOT) , sum(PRI))
View(joined)
summarise(grouped, sum(POBTOT) , sum(PRI))
grouped <- group_by(joined, DISTRITO)
summarise(grouped, sum(POBTOT) , sum(PRI))
grouped <- group_by(joined, DISTRITO)
summarise(grouped, sum(POBTOT) , sum(PRI))
summarise(grouped, sum(POBTOT) , sum(PRI, na.rm = T))
grouped <- group_by(joined, DISTRITO)
summarise(grouped, sum(POBTOT) , sum(PRI, na.rm = T))
rm(pob_sec_f, eco_sec_f, edu_sec_f, dis_sec_f, mig_sec_f, sal_sec_f, viv_sec_f, ele_sec_f)
rm(joined)
joined <- left_join(pob_sec, eco_sec)
joined <- left_join(joined, edu_sec)
joined <- left_join(joined, dis_sec)
joined <- left_join(joined, mig_sec)
joined <- left_join(joined, sal_sec)
joined <- left_join(joined, viv_sec)
joined <- left_join(joined, ele_sec)
names <- colnames(joined)
names
grouped <- group_by(joined, DISTRITO)
summarise(grouped, sum(POBTOT) , sum(PRI, na.rm = T))
summarise(grouped, sum(POBTOT) , sum(PRI, na.rm = T), sum(PAN, na.rm = T))
summarise(grouped, sum(POBTOT) , sum(PRI, na.rm = T), sum(PAN, na.rm = T), sum(VOTOS_TOTAL, na.rm = T))
summarise(grouped, sum(POBTOT) , sum(PRI, na.rm = T), sum(PAN, na.rm = T), sum(TOTAL_VOTOS, na.rm = T))
nvo <- summarise(grouped, sum(POBTOT) , sum(PRI, na.rm = T), sum(PAN, na.rm = T), sum(TOTAL_VOTOS, na.rm = T))
nvo
View(nvo)
names(nvo) <- c("DISTRITO", "POBTOT", "PRI", "PAN", "TOTAL_VOTOS")
nvo
names <- colnames(joined)
names
descriptores
descriptores <- read.dbf("./descriptores/DESCRIPTORES_CENSO2010.dbf", as.is = T)
descriptores
descriptores[descriptores[1] == "OCUPVIVPAR" , ]
descriptores[descriptores[1] == "VPH_DRENAJ" , ]
descriptores[grepl("dren", descriptores[1]) , ]
descriptores[grepl("hab", descriptores[1]) , ]
descriptores[grepl("*hab*", descriptores[1]) , ]
descriptores[grepl("Nom", descriptores[2]) , ]
descriptores[grepl("Vivienda", descriptores[2]) , ]
descriptores[!grepl("Vivienda", descriptores[2]) , ]
descriptores[!grepl("Vivienda*", descriptores[2]) , ]
descriptores[!grepl(".*vivienda.*", descriptores[2]) , ]
descriptores[grepl(".*vivienda.*", descriptores[2]) , ]
descriptores[!grepl(".*vivienda.*", descriptores[2]) , ]
descriptores[!grepl("N^.*", descriptores[2]) , ]
descriptores[grepl("N^.*", descriptores[2]) , ]
